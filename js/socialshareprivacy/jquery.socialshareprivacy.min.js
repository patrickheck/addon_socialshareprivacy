!function($){"use strict";function abbreviateText(text,length){var abbreviated=decodeURIComponent(text);if(abbreviated.length<=length)return text;var lastWhitespaceIndex=abbreviated.substring(0,length-1).lastIndexOf(" ");return abbreviated=encodeURIComponent(abbreviated.substring(0,lastWhitespaceIndex))+"â€¦"}function getMeta(name){var metaContent=$('meta[name="'+name+'"]').attr("content");return metaContent||""}function getTweetText(){var title=getMeta("DC.title"),creator=getMeta("DC.creator");return title.length>0&&creator.length>0?title+=" - "+creator:title=$("title").text(),encodeURIComponent(title)}function getURI(){var uri=document.location.href,canonical=$("link[rel=canonical]").attr("href");return canonical&&canonical.length>0&&(canonical.indexOf("http")<0&&(canonical=document.location.protocol+"//"+document.location.host+canonical),uri=canonical),uri}function cookieSet(name,value,days,path,domain){var expires=new Date;expires.setTime(expires.getTime()+1e3*60*60*24*days),document.cookie=name+"="+value+"; expires="+expires.toUTCString()+"; path="+path+"; domain="+domain}function cookieDel(name,value,path,domain){var expires=new Date;expires.setTime(expires.getTime()-100),document.cookie=name+"="+value+"; expires="+expires.toUTCString()+"; path="+path+"; domain="+domain}$.fn.socialSharePrivacy=function(settings){var defaults={services:{facebook:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Facebook senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_fb_off:"nicht mit Facebook verbunden",txt_fb_on:"mit Facebook verbunden",perma_option:"on",display_name:"Facebook",referrer_track:"",language:"de_DE",action:"recommend",dummy_caption:"Empfehlen"},twitter:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Twitter senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_twitter_off:"nicht mit Twitter verbunden",txt_twitter_on:"mit Twitter verbunden",perma_option:"on",display_name:"Twitter",referrer_track:"",tweet_text:getTweetText,language:"en",dummy_caption:"Tweet"},gplus:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Google+ senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_gplus_off:"nicht mit Google+ verbunden",txt_gplus_on:"mit Google+ verbunden",perma_option:"on",display_name:"Google+",referrer_track:"",language:"de"}},info_link:"",txt_help:"Wenn Sie diese Felder durch einen Klick aktivieren, werden Informationen an Facebook, Twitter oder Google in die USA &uuml;bertragen und unter Umst&auml;nden auch dort gespeichert.",settings_perma:"Dauerhaft aktivieren und Daten&uuml;ber&shy;tragung zustimmen:",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"socialshareprivacy/socialshareprivacy.css",uri:getURI},options=$.extend(!0,defaults,settings),facebook_on="on"===options.services.facebook.status,twitter_on="on"===options.services.twitter.status,gplus_on="on"===options.services.gplus.status;return facebook_on||twitter_on||gplus_on?(options.css_path.length>0&&(document.createStyleSheet?document.createStyleSheet(options.css_path):$("head").append('<link rel="stylesheet" type="text/css" href="'+options.css_path+'" />')),this.each(function(){$(this).prepend('<ul class="social_share_privacy_area"></ul>');var context=$(".social_share_privacy_area",this),uri=options.uri;if("function"==typeof uri&&(uri=uri(context)),facebook_on){var fb_dummy_btn,fb_enc_uri=encodeURIComponent(uri+options.services.facebook.referrer_track),fb_code='<iframe src="http://www.facebook.com/plugins/like.php?locale='+options.services.facebook.language+"&amp;href="+fb_enc_uri+"&amp;send=false&amp;layout=button_count&amp;width=120&amp;show_faces=false&amp;action="+options.services.facebook.action+'&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:145px; height:21px;" allowTransparency="true"></iframe>';fb_dummy_btn=options.services.facebook.dummy_img?'<img class="fb_like_privacy_dummy" src="'+options.services.facebook.dummy_img+'" alt="'+options.services.facebook.dummy_caption+'" />':'<div class="fb_like_privacy_dummy"><span>'+options.services.facebook.dummy_caption+"</span></div>",context.append('<li class="facebook help_info"><span class="info">'+options.services.facebook.txt_info+'</span><span class="switch off">'+options.services.facebook.txt_fb_off+'</span><div class="fb_like dummy_btn">'+fb_dummy_btn+"</div></li>");var $container_fb=$("li.facebook",context);context.on("click","li.facebook div.fb_like .fb_like_privacy_dummy,li.facebook span.switch",function(){$container_fb.find("span.switch").hasClass("off")?($container_fb.addClass("info_off"),$container_fb.find("span.switch").addClass("on").removeClass("off").html(options.services.facebook.txt_fb_on),$container_fb.find(".fb_like_privacy_dummy").replaceWith(fb_code)):($container_fb.removeClass("info_off"),$container_fb.find("span.switch").addClass("off").removeClass("on").html(options.services.facebook.txt_fb_off),$container_fb.find(".fb_like").html(fb_dummy_btn))})}if(twitter_on){var text=options.services.twitter.tweet_text;"function"==typeof text&&(text=text()),text=abbreviateText(text,"120");var twitter_dummy_btn,twitter_enc_uri=encodeURIComponent(uri+options.services.twitter.referrer_track),twitter_count_url=encodeURIComponent(uri),twitter_code='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+twitter_enc_uri+"&amp;counturl="+twitter_count_url+"&amp;text="+text+"&amp;count=horizontal&amp;lang="+options.services.twitter.language+'" style="width:130px; height:25px;"></iframe>';twitter_dummy_btn=options.services.twitter.dummy_img?'<img class="tweet_this_dummy" src="'+options.services.twitter.dummy_img+'" alt="'+options.services.twitter.dummy_caption+'" />':'<div class="tweet_this_dummy"><span>'+options.services.twitter.dummy_caption+"</span></div>",context.append('<li class="twitter help_info"><span class="info">'+options.services.twitter.txt_info+'</span><span class="switch off">'+options.services.twitter.txt_twitter_off+'</span><div class="tweet dummy_btn">'+twitter_dummy_btn+"</div></li>");var $container_tw=$("li.twitter",context);context.on("click","li.twitter .tweet_this_dummy,li.twitter span.switch",function(){$container_tw.find("span.switch").hasClass("off")?($container_tw.addClass("info_off"),$container_tw.find("span.switch").addClass("on").removeClass("off").html(options.services.twitter.txt_twitter_on),$container_tw.find(".tweet_this_dummy").replaceWith(twitter_code)):($container_tw.removeClass("info_off"),$container_tw.find("span.switch").addClass("off").removeClass("on").html(options.services.twitter.txt_twitter_off),$container_tw.find(".tweet").html(twitter_dummy_btn))})}if(gplus_on){var gplus_dummy_btn,gplus_uri=uri+options.services.gplus.referrer_track,gplus_code='<div class="g-plusone" data-size="medium" data-href="'+gplus_uri+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+options.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>';gplus_dummy_btn=options.services.gplus.dummy_img?'<img src="'+options.services.gplus.dummy_img+'" alt="+1" class="gplus_one_dummy" />':'<div class="gplus_one_dummy">+1</div>',context.append('<li class="gplus help_info"><span class="info">'+options.services.gplus.txt_info+'</span><span class="switch off">'+options.services.gplus.txt_gplus_off+'</span><div class="gplusone dummy_btn">'+gplus_dummy_btn+"</div></li>");var $container_gplus=$("li.gplus",context);context.on("click","li.gplus div.gplusone .gplus_one_dummy,li.gplus span.switch",function(){$container_gplus.find("span.switch").hasClass("off")?($container_gplus.addClass("info_off"),$container_gplus.find("span.switch").addClass("on").removeClass("off").html(options.services.gplus.txt_gplus_on),$container_gplus.find(".gplus_one_dummy").replaceWith(gplus_code)):($container_gplus.removeClass("info_off"),$container_gplus.find("span.switch").addClass("off").removeClass("on").html(options.services.gplus.txt_gplus_off),$container_gplus.find(".gplusone").html(gplus_dummy_btn))})}""!=options.info_link?context.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a href="'+options.info_link+'"><span class="help_info icon"><span class="info">'+options.txt_help+"</span></span></a></div></li>"):context.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><span class="help_info icon"><span class="info">'+options.txt_help+"</span></span></div></li>"),context.on("mouseenter",".help_info:not(.info_off)",function(){var $info_wrapper=$(this),timeout_id=window.setTimeout(function(){$($info_wrapper).addClass("display")},500);$(this).data("timeout_id",timeout_id)}),context.on("mouseleave",".help_info",function(){var timeout_id=$(this).data("timeout_id");window.clearTimeout(timeout_id),$(this).hasClass("display")&&$(this).removeClass("display")});var facebook_perma="on"===options.services.facebook.perma_option,twitter_perma="on"===options.services.twitter.perma_option,gplus_perma="on"===options.services.gplus.perma_option;if((facebook_on&&facebook_perma||twitter_on&&twitter_perma||gplus_on&&gplus_perma)&&JSON&&JSON.parse){for(var cookie_list=document.cookie.split(";"),cookies="{",i=0;i<cookie_list.length;i+=1){var foo=cookie_list[i].split("=");cookies+='"'+$.trim(foo[0])+'":"'+$.trim(foo[1])+'"',i<cookie_list.length-1&&(cookies+=",")}cookies+="}",cookies=JSON.parse(cookies);var $container_settings_info=$("li.settings_info",context);$container_settings_info.find(".settings_info_menu").removeClass("perma_option_off"),$container_settings_info.find(".settings_info_menu").append('<span class="settings">Einstellungen</span><form><fieldset><legend>'+options.settings_perma+"</legend></fieldset></form>");var checked=' checked="checked"';if(facebook_on&&facebook_perma){var perma_status_facebook="perma_on"===cookies.socialSharePrivacy_facebook?checked:"";$container_settings_info.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="perma_status_facebook"'+perma_status_facebook+' /><label for="perma_status_facebook">'+options.services.facebook.display_name+"</label>")}if(twitter_on&&twitter_perma){var perma_status_twitter="perma_on"===cookies.socialSharePrivacy_twitter?checked:"";$container_settings_info.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="perma_status_twitter"'+perma_status_twitter+' /><label for="perma_status_twitter">'+options.services.twitter.display_name+"</label>")}if(gplus_on&&gplus_perma){var perma_status_gplus="perma_on"===cookies.socialSharePrivacy_gplus?checked:"";$container_settings_info.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="perma_status_gplus"'+perma_status_gplus+' /><label for="perma_status_gplus">'+options.services.gplus.display_name+"</label>")}$container_settings_info.find("span.settings").css("cursor","pointer"),$container_settings_info.on("mouseenter","span.settings",function(){var timeout_id=window.setTimeout(function(){$container_settings_info.find(".settings_info_menu").removeClass("off").addClass("on")},500);$(this).data("timeout_id",timeout_id)}),$container_settings_info.on("mouseleave",function(){var timeout_id=$(this).data("timeout_id");window.clearTimeout(timeout_id),$container_settings_info.find(".settings_info_menu").removeClass("on").addClass("off")}),$container_settings_info.on("click","fieldset input",function(event){var click=event.target.id,service=click.substr(click.lastIndexOf("_")+1,click.length),cookie_name="socialSharePrivacy_"+service;$("#"+event.target.id+":checked").length?(cookieSet(cookie_name,"perma_on",options.cookie_expires,options.cookie_path,options.cookie_domain),$("form fieldset label[for="+click+"]",context).addClass("checked")):(cookieDel(cookie_name,"perma_on",options.cookie_path,options.cookie_domain),$("form fieldset label[for="+click+"]",context).removeClass("checked"))}),facebook_on&&facebook_perma&&"perma_on"===cookies.socialSharePrivacy_facebook&&$("li.facebook span.switch",context).click(),twitter_on&&twitter_perma&&"perma_on"===cookies.socialSharePrivacy_twitter&&$("li.twitter span.switch",context).click(),gplus_on&&gplus_perma&&"perma_on"===cookies.socialSharePrivacy_gplus&&$("li.gplus span.switch",context).click()}})):void 0}}(jQuery);